---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Timeline: Mike Merrill (1977–2025) - Quarterly Systems">
	<main class="min-h-screen">
		<!-- Scrolling Timeline -->
		<div class="timeline-container relative bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 overflow-hidden min-h-screen">
			<!-- Timeline Line -->
			<div class="timeline-line fixed left-1/2 top-0 bottom-0 w-1 bg-gradient-to-b from-cyan-400 via-purple-400 to-pink-400 transform -translate-x-1/2 opacity-30 z-10"></div>

			<!-- Progress Line -->
			<div class="timeline-progress fixed left-1/2 top-0 w-1 bg-gradient-to-b from-cyan-400 via-purple-400 to-pink-400 transform -translate-x-1/2 h-0 z-20"></div>

			<!-- Header -->
			<div class="relative z-30 text-center py-20">
				<h1 class="text-6xl font-bold text-white mb-4">Mike Merrill Timeline</h1>
				<p class="text-2xl text-gray-300">1977–2025: From Alaska to Quarterly Systems</p>
			</div>

			<!-- Timeline Periods -->
			<div class="timeline-period relative z-30 mb-32 opacity-0" data-period="alaska">
				<div class="flex items-center mb-8">
					<div class="timeline-icon w-16 h-16 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg fixed left-1/2 transform -translate-x-1/2 shadow-lg z-40">
						🏔️
					</div>
					<div class="w-1/2 pr-8 text-right">
						<h3 class="text-4xl font-bold text-white mb-2">1977–1994</h3>
						<h4 class="text-2xl text-cyan-300 font-semibold">Alaska Origins</h4>
					</div>
				</div>
				<div class="timeline-events space-y-6 ml-auto w-1/2 pl-8">
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-cyan-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-cyan-400 font-bold text-lg">1977</span>
							<p class="text-gray-200">Born in Alaska. Trans-Alaska Pipeline completed.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-cyan-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-cyan-400 font-bold text-lg">1979</span>
							<p class="text-gray-200">Iranian Revolution triggers oil shock. Cold War tension nearby.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-cyan-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-cyan-400 font-bold text-lg">1986</span>
							<p class="text-gray-200">Oil price collapse → Alaska recession.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-cyan-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-cyan-400 font-bold text-lg">1989</span>
							<p class="text-gray-200">Exxon Valdez oil spill devastates Alaska.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-cyan-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-cyan-400 font-bold text-lg">1991</span>
							<p class="text-gray-200">Soviet Union collapses. Alaska no longer frontline.</p>
						</div>
					</div>
				</div>
			</div>

			<div class="timeline-period relative z-30 mb-32 opacity-0" data-period="army">
				<div class="flex items-center mb-8">
					<div class="timeline-icon w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-lg fixed left-1/2 transform -translate-x-1/2 shadow-lg z-40">
						🪖
					</div>
					<div class="w-1/2 pl-8">
						<h3 class="text-4xl font-bold text-white mb-2">1995–1998</h3>
						<h4 class="text-2xl text-green-300 font-semibold">Army and Transition</h4>
					</div>
				</div>
				<div class="timeline-events space-y-6 w-1/2 pr-8">
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-green-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-green-400 font-bold text-lg">1995</span>
							<p class="text-gray-200">Joins U.S. Army → stationed in Alabama. Barings Bank collapses.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-green-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-green-400 font-bold text-lg">1996</span>
							<p class="text-gray-200">Posted to Germany. Dot-com boom accelerates.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-green-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-green-400 font-bold text-lg">1998</span>
							<p class="text-gray-200">Leaves Army, uncertain next steps. Russia defaults, LTCM collapse. Joins friends in Portland's indie scene.</p>
						</div>
					</div>
				</div>
			</div>

			<div class="timeline-period relative z-30 mb-32 opacity-0" data-period="portland">
				<div class="flex items-center mb-8">
					<div class="timeline-icon w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-lg fixed left-1/2 transform -translate-x-1/2 shadow-lg z-40">
						🎨
					</div>
					<div class="w-1/2 pr-8 text-right">
						<h3 class="text-4xl font-bold text-white mb-2">1999–2007</h3>
						<h4 class="text-2xl text-purple-300 font-semibold">Portland DIY / Indie Web</h4>
					</div>
				</div>
				<div class="timeline-events space-y-6 ml-auto w-1/2 pl-8">
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-purple-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-purple-400 font-bold text-lg">2002</span>
							<p class="text-gray-200">Urban Honking founded (collective blog empire). Enron collapse prompts Sarbanes-Oxley.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-purple-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-purple-400 font-bold text-lg">2004</span>
							<p class="text-gray-200">Portland zine/web crossover scene. Facebook founded.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-purple-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-purple-400 font-bold text-lg">2007</span>
							<p class="text-gray-200">Global financial crisis begins. Portland DIY scene at peak; you position as experimenter in media systems.</p>
						</div>
					</div>
				</div>
			</div>

			<div class="timeline-period relative z-30 mb-32 opacity-0" data-period="ipo">
				<div class="flex items-center mb-8">
					<div class="timeline-icon w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg fixed left-1/2 transform -translate-x-1/2 shadow-lg z-40">
						📈
					</div>
					<div class="w-1/2 pl-8">
						<h3 class="text-4xl font-bold text-white mb-2">2008–2012</h3>
						<h4 class="text-2xl text-yellow-300 font-semibold">IPO and Early Experiments</h4>
					</div>
				</div>
				<div class="timeline-events space-y-6 w-1/2 pr-8">
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-yellow-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-yellow-400 font-bold text-lg">2008</span>
							<div class="text-gray-200">
								<p class="font-bold text-yellow-200 mb-2">Mike Merrill IPO launched in Portland.</p>
								<p>First "publicly traded person." Lehman Brothers collapse.</p>
							</div>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-yellow-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-yellow-400 font-bold text-lg">2009</span>
							<p class="text-gray-200">Bitcoin whitepaper released. KmikeyM positioned as parallel financial experiment.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-yellow-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-yellow-400 font-bold text-lg">2011</span>
							<p class="text-gray-200">Occupy Wall Street. KmikeyM referenced in coverage of alternative markets.</p>
						</div>
					</div>
				</div>
			</div>

			<div class="timeline-period relative z-30 mb-32 opacity-0" data-period="media">
				<div class="flex items-center mb-8">
					<div class="timeline-icon w-16 h-16 bg-gradient-to-br from-red-400 to-rose-500 rounded-full flex items-center justify-center text-white font-bold text-lg fixed left-1/2 transform -translate-x-1/2 shadow-lg z-40">
						📺
					</div>
					<div class="w-1/2 pr-8 text-right">
						<h3 class="text-4xl font-bold text-white mb-2">2013–2017</h3>
						<h4 class="text-2xl text-red-300 font-semibold">Media Visibility and Legitimacy</h4>
					</div>
				</div>
				<div class="timeline-events space-y-6 ml-auto w-1/2 pl-8">
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-red-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-red-400 font-bold text-lg">2013</span>
							<p class="text-gray-200">Snowden leaks. Mike appears in media (NPR, WIRED).</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-red-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-red-400 font-bold text-lg">2016</span>
							<p class="text-gray-200">Brexit + Trump. Political climate makes governance experiments newly relevant.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-red-400/50 opacity-0 transform translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-red-400 font-bold text-lg">2017</span>
							<p class="text-gray-200">Bitcoin hits $20k, ICO boom. KmikeyM seen as early parallel to tokenization of identity.</p>
						</div>
					</div>
				</div>
			</div>

			<div class="timeline-period relative z-30 mb-32 opacity-0" data-period="speculative">
				<div class="flex items-center mb-8">
					<div class="timeline-icon w-16 h-16 bg-gradient-to-br from-indigo-400 to-violet-500 rounded-full flex items-center justify-center text-white font-bold text-lg fixed left-1/2 transform -translate-x-1/2 shadow-lg z-40">
						🚀
					</div>
					<div class="w-1/2 pl-8">
						<h3 class="text-4xl font-bold text-white mb-2">2021–2025</h3>
						<h4 class="text-2xl text-indigo-300 font-semibold">Speculative Culture and New Platforms</h4>
					</div>
				</div>
				<div class="timeline-events space-y-6 w-1/2 pr-8">
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-indigo-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-indigo-400 font-bold text-lg">2021</span>
							<p class="text-gray-200">GameStop/AMC mania. Parallel to your experiment in shareholder influence.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-indigo-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-indigo-400 font-bold text-lg">2023</span>
							<p class="text-gray-200">Regional banking crisis (SVB collapse). Mike exploring Blippo+, indie games, media systems.</p>
						</div>
					</div>
					<div class="timeline-event bg-black/60 backdrop-blur-sm rounded-lg p-6 border border-indigo-400/50 opacity-0 transform -translate-x-8">
						<div class="flex items-start gap-4">
							<span class="text-indigo-400 font-bold text-lg">2025</span>
							<div class="text-gray-200">
								<p class="font-bold text-indigo-200 mb-2">Quarterly Systems launched.</p>
								<p>"Transform Ideas Into Operational Systems"</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- Floating particles for atmosphere -->
			<div class="timeline-particles absolute inset-0 pointer-events-none z-10"></div>

			<!-- Navigation -->
			<div class="fixed bottom-8 left-8 z-50">
				<a href="/animation" class="bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-lg hover:bg-white/30 transition-colors">
					← Back to Animation Lab
				</a>
			</div>

			<div class="fixed bottom-8 right-8 z-50">
				<button onclick="playFullTimeline()" class="bg-violet-600/80 backdrop-blur-sm text-white px-6 py-3 rounded-lg hover:bg-violet-700/80 transition-colors shadow-lg">
					Play Full Timeline
				</button>
			</div>
		</div>
	</main>
</Layout>

<script>
	import { animate, createTimeline, set, easings } from 'animejs';

	// Simple scroll-based animation using Intersection Observer
	function initScrollAnimations() {
		// Create Intersection Observer for timeline periods
		const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					const period = entry.target;

					// Animate the period container
					animate(period, {
						opacity: [0, 1],
						translateY: [50, 0],
						scale: [0.9, 1],
						easing: easings.outExpo,
						duration: 1000
					});

					// Animate events within the period
					const events = period.querySelectorAll('.timeline-event');
					events.forEach((event, index) => {
						setTimeout(() => {
							const isRightSide = event.classList.contains('translate-x-8');
							animate(event, {
								opacity: [0, 1],
								translateX: [isRightSide ? 50 : -50, 0],
								scale: [0.8, 1],
								easing: easings.outBack,
								duration: 800
							});
						}, index * 200);
					});

					// Animate timeline icon
					const icon = period.querySelector('.timeline-icon');
					if (icon) {
						setTimeout(() => {
							animate(icon, {
								scale: [0, 1.2, 1],
								rotate: [0, 360],
								easing: easings.outElastic,
								duration: 1200
							});
						}, 300);
					}
				}
			});
		}, {
			threshold: 0.3,
			rootMargin: '0px 0px -100px 0px'
		});

		// Observe all timeline periods
		document.querySelectorAll('.timeline-period').forEach(period => {
			observer.observe(period);
		});

		// Animate progress line based on scroll
		updateProgressLine();
		window.addEventListener('scroll', updateProgressLine);
	}

	function updateProgressLine() {
		const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
		const scrolled = window.scrollY;
		const progress = Math.min(scrolled / scrollHeight, 1);

		const progressLine = document.querySelector('.timeline-progress');
		if (progressLine) {
			progressLine.style.height = `${progress * 100}%`;
		}
	}

	function createTimelineParticles() {
		const container = document.querySelector('.timeline-particles');
		if (!container) return;

		// Create ambient particles
		for (let i = 0; i < 30; i++) {
			const particle = document.createElement('div');
			particle.className = 'absolute w-1 h-1 rounded-full pointer-events-none';
			particle.style.left = Math.random() * 100 + '%';
			particle.style.top = Math.random() * 100 + '%';

			// Random colors from timeline palette
			const colors = ['rgba(34, 211, 238, 0.4)', 'rgba(168, 85, 247, 0.4)', 'rgba(236, 72, 153, 0.4)', 'rgba(34, 197, 94, 0.4)'];
			particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];

			container.appendChild(particle);
		}

		// Animate ambient particles
		animate('.timeline-particles > div', {
			translateY: () => (Math.random() - 0.5) * 200,
			translateX: () => (Math.random() - 0.5) * 100,
			scale: [0.5, 1.5, 0.5],
			opacity: [0.2, 0.6, 0.2],
			easing: easings.inOutSine,
			duration: () => Math.random() * 6000 + 4000,
			delay: (el, i) => i * 200,
			loop: true
		});
	}

	// Enhanced Timeline Controls
	function playFullTimeline() {
		// Reset all elements first
		set('.timeline-period', { opacity: 0, translateY: 50, scale: 0.9 });
		set('.timeline-event', { opacity: 0, translateX: (el) => el.classList.contains('translate-x-8') ? 50 : -50, scale: 0.8 });
		set('.timeline-icon', { scale: 0, rotate: 0 });
		set('.timeline-progress', { height: '0%' });

		const timeline = createTimeline();

		// Progressive reveal of all timeline periods
		timeline
			.add(animate('.timeline-period', {
				opacity: [0, 1],
				translateY: [50, 0],
				scale: [0.9, 1],
				easing: easings.outExpo,
				duration: 1000,
				delay: (el, i) => i * 800
			}))
			.add(animate('.timeline-event', {
				opacity: [0, 1],
				translateX: (el) => el.classList.contains('translate-x-8') ? [50, 0] : [-50, 0],
				scale: [0.8, 1],
				easing: easings.outBack,
				duration: 600,
				delay: (el, i) => i * 100
			}), 1000)
			.add(animate('.timeline-icon', {
				scale: [0, 1.3, 1],
				rotate: [0, 360],
				easing: easings.outElastic,
				duration: 1200,
				delay: (el, i) => i * 300
			}), 1500)
			.add(animate('.timeline-progress', {
				height: ['0%', '100%'],
				easing: easings.outQuart,
				duration: 4000
			}), 2000);
	}

	// Make function global
	window.playFullTimeline = playFullTimeline;

	// Initialize everything on page load
	document.addEventListener('DOMContentLoaded', function() {
		setTimeout(() => {
			initScrollAnimations();
		}, 500);

		setTimeout(() => {
			createTimelineParticles();
		}, 1000);
	});
</script>

<style>
	/* Custom scrollbar */
	::-webkit-scrollbar {
		width: 8px;
	}

	::-webkit-scrollbar-track {
		background: rgba(0, 0, 0, 0.2);
	}

	::-webkit-scrollbar-thumb {
		background: linear-gradient(45deg, #22d3ee, #a855f7);
		border-radius: 4px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: linear-gradient(45deg, #0891b2, #7c3aed);
	}

	/* Smooth scrolling */
	html {
		scroll-behavior: smooth;
	}

	/* Timeline elements initial states */
	.timeline-period {
		opacity: 0;
		transform: translateY(50px) scale(0.9);
	}

	.timeline-event {
		opacity: 0;
		transform: scale(0.8);
	}

	.timeline-event.translate-x-8 {
		transform: translateX(50px) scale(0.8);
	}

	.timeline-event.-translate-x-8 {
		transform: translateX(-50px) scale(0.8);
	}

	.timeline-icon {
		transform: scale(0);
	}

	.timeline-progress {
		height: 0%;
		transition: height 0.1s ease-out;
	}

	/* Enhanced hover effects */
	.timeline-event:hover {
		transform: scale(1.02) !important;
		border-color: currentColor;
		transition: all 0.3s ease;
	}

	.timeline-icon:hover {
		transform: scale(1.1) !important;
		transition: transform 0.3s ease;
	}
</style>